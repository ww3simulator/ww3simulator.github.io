<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Fri Jul 24 16:59:33 CEST 2015 -->
<title>Channel</title>
<meta name="date" content="2015-07-24">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Channel";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../org/simalliance/openmobileapi/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/simalliance/openmobileapi/AuthenticationProvider.PinID.html" title="class in org.simalliance.openmobileapi"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/simalliance/openmobileapi/FileViewProvider.html" title="class in org.simalliance.openmobileapi"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/simalliance/openmobileapi/Channel.html" target="_top">Frames</a></li>
<li><a href="Channel.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.simalliance.openmobileapi</div>
<h2 title="Class Channel" class="title">Class Channel</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.simalliance.openmobileapi.Channel</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Channel</span>
extends java.lang.Object</pre>
<div class="block">Instances of this class represent an ISO/ICE 7816-4 channel opened to a Secure
 Element. It can be either a logical channel or the basic channel. They can
 be used to send APDUs to the secure element. Channels are opened by calling
 the Session.openBasicChannel(byte[]) or Session.openLogicalChannel(byte[])
 methods.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="http://simalliance.org">SIMalliance Open Mobile API  v3.0</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/simalliance/openmobileapi/Channel.html#close()">close</a></strong>()</code>
<div class="block">Closes this channel to the Secure Element.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/simalliance/openmobileapi/Channel.html#getSelectResponse()">getSelectResponse</a></strong>()</code>
<div class="block">Returns the data as received from the application select command inclusively the status word
 received at applet selection.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/simalliance/openmobileapi/Session.html" title="class in org.simalliance.openmobileapi">Session</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/simalliance/openmobileapi/Channel.html#getSession()">getSession</a></strong>()</code>
<div class="block">Get the session that has opened this channel.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/simalliance/openmobileapi/Channel.html#isBasicChannel()">isBasicChannel</a></strong>()</code>
<div class="block">Returns a boolean telling if this channel is the basic channel.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/simalliance/openmobileapi/Channel.html#isClosed()">isClosed</a></strong>()</code>
<div class="block">Tells if this channel is closed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/simalliance/openmobileapi/Channel.html#selectNext()">selectNext</a></strong>()</code>
<div class="block">Performs a selection of the next Applet on this channel that matches to the partial AID specified   
 in the openBasicChannel(byte[] aid) or openLogicalChannel(byte[] aid) method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/simalliance/openmobileapi/Channel.html#transmit(byte[])">transmit</a></strong>(byte[]&nbsp;command)</code>
<div class="block">Transmit an APDU command (as per ISO/IEC 7816-4) to the Secure Element.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">Closes this channel to the Secure Element. If the method is called when
 the channel is already closed, this method will be ignored. The close()
 method shall wait for completion of any pending transmit(byte[] command)
 before closing the channel.</div>
</li>
</ul>
<a name="isClosed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isClosed</h4>
<pre>public&nbsp;boolean&nbsp;isClosed()</pre>
<div class="block">Tells if this channel is closed.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the channel is closed, <code>false</code> otherwise.</dd></dl>
</li>
</ul>
<a name="isBasicChannel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isBasicChannel</h4>
<pre>public&nbsp;boolean&nbsp;isBasicChannel()</pre>
<div class="block">Returns a boolean telling if this channel is the basic channel.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if this channel is a basic channel. <code>false</code> if
         this channel is a logical channel.</dd></dl>
</li>
</ul>
<a name="transmit(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transmit</h4>
<pre>public&nbsp;byte[]&nbsp;transmit(byte[]&nbsp;command)
                throws java.io.IOException,
                       java.lang.IllegalStateException,
                       java.lang.IllegalArgumentException,
                       java.lang.SecurityException,
                       java.lang.NullPointerException</pre>
<div class="block">Transmit an APDU command (as per ISO/IEC 7816-4) to the Secure Element. The
 underlying layers generate as many TPDUs as necessary to transport this APDU. The
 API shall ensure that all available data returned from Secure Element, including
 concatenated responses, are retrieved and made available to the calling application. If a
 warning status code is received the API wont check for further response data but will
 return all data received so far and the warning status code.<br>
 The transport part is invisible from the application. The generated response is the
 response of the APDU which means that all protocols related responses are handled
 inside the API or the underlying implementation.<br>
 The transmit method shall support extended length APDU commands independently of
 the coding within the ATR.<br>
 For status word '61 XX' the API or underlying implementation shall issue a GET
 RESPONSE command as specified by ISO 7816-4 standard with LE=XX; for the status
 word '6C XX', the API or underlying implementation shall reissue the input command
 with LE=XX. For other status words, the API (or underlying implementation) shall return
 the complete response including data and status word to the device application. The API
 (or underlying implementation) shall not handle internally the received status words. The
 channel shall not be closed even if the Secure Element answered with an error code.
 The system ensures the synchronization between all the concurrent calls to this method,
 and that only one APDU will be sent at a time, irrespective of the number of TPDUs that
 might be required to transport it to the SE. The entire APDU communication to this SE is
 locked to the APDU.<br>
 The channel information in the class byte in the APDU will be ignored. The system will
 add any required information to ensure the APDU is transported on this channel.
 The only restrictions on the set of commands that can be sent is defined below, the API
 implementation shall be able to send all other commands: <br>
 <ul>
 <li>MANAGE_CHANNEL commands are not allowed.</li>
 <li>SELECT by DF Name (p1=04) are not allowed.</li>
 <li>CLA bytes with channel numbers are de-masked.</li>
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>command</code> - the APDU command to be transmitted, as a byte array.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the response received, as a byte array. The returned byte array contains the data bytes
 in the following order:
 [&lt;first data byte&gt;, ..., &lt;last data byte&gt;, &lt;sw1&gt;, &lt;sw2&gt;]</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if there is a communication problem to the reader or the Secure Element.</dd>
<dd><code>java.lang.IllegalStateException</code> - if the channel is used after being closed.</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if the command byte array is less than 4 bytes long.</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if Lc byte is inconsistent with the length of the byte array.</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if CLA byte is invalid according to [2] (0xff).</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if INS byte is invalid according to [2] (0x6x or 0x9x).</dd>
<dd><code>java.lang.SecurityException</code> - if the command is filtered by the security
             policy.</dd>
<dd><code>java.lang.NullPointerException</code> - if command is NULL.</dd></dl>
</li>
</ul>
<a name="getSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSession</h4>
<pre>public&nbsp;<a href="../../../org/simalliance/openmobileapi/Session.html" title="class in org.simalliance.openmobileapi">Session</a>&nbsp;getSession()</pre>
<div class="block">Get the session that has opened this channel.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the session object this channel is bound to.</dd></dl>
</li>
</ul>
<a name="getSelectResponse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSelectResponse</h4>
<pre>public&nbsp;byte[]&nbsp;getSelectResponse()</pre>
<div class="block">Returns the data as received from the application select command inclusively the status word
 received at applet selection.
 The returned byte array contains the data bytes in the following order:
 [&lt;first data byte&gt;, ..., &lt;last data byte&gt;, &lt;sw1&gt;, &lt;sw2&gt;]</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The data as returned by the application select command inclusively the status word.
 Only the status word if the application select command has no returned data.
 Returns null if an application select command has not been performed or the selection response can not
 be retrieved by the reader implementation.</dd></dl>
</li>
</ul>
<a name="selectNext()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>selectNext</h4>
<pre>public&nbsp;boolean&nbsp;selectNext()
                   throws java.io.IOException,
                          java.lang.IllegalStateException,
                          java.lang.UnsupportedOperationException</pre>
<div class="block">Performs a selection of the next Applet on this channel that matches to the partial AID specified   
 in the openBasicChannel(byte[] aid) or openLogicalChannel(byte[] aid) method.  
 This mechanism can be used by a device application to iterate through all Applets 
 matching to the same partial AID. 
 If selectNext() returns true a new Applet was successfully selected on this channel. 
 If no further Applet exists with matches to the partial AID this method returns false
 and the already selected Applet stays selected. <br>

 Since the API cannot distinguish between a partial and full AID the API shall rely on the
 response of the Secure Element for the return value of this method. <br>
 The implementation of the underlying SELECT command within this method shall use
 the same values as the corresponding openBasicChannel(byte[] aid) or
 openLogicalChannel(byte[] aid) command with the option: <br>
 P2='02' (Next occurrence) <br>
 The select response stored in the Channel object shall be updated with the APDU
 response of the SELECT command.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if new Applet was selected on this channel.
               <code>false</code> he already selected Applet stays selected on this channel.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if there is a communication problem to the reader or the Secure Element.</dd>
<dd><code>java.lang.IllegalStateException</code> - if the channel is used after being closed.</dd>
<dd><code>java.lang.UnsupportedOperationException</code> - if this operation is not supported by the card.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../org/simalliance/openmobileapi/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>SmartCard API V4.0.0</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/simalliance/openmobileapi/AuthenticationProvider.PinID.html" title="class in org.simalliance.openmobileapi"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/simalliance/openmobileapi/FileViewProvider.html" title="class in org.simalliance.openmobileapi"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/simalliance/openmobileapi/Channel.html" target="_top">Frames</a></li>
<li><a href="Channel.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><table width=100%><tr><td width=50%><a href='http://seek-for-android.github.io' target=_blank>SEEK for Android</a></td><td width=50% align=right>Copyright 2015, Giesecke &amp; Devrient GmbH</td></tr></table></small></p>
</body>
</html>
